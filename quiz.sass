$current_color: #3db92c
$current_color_opacity: #3db92c88
$current_white: #E6E6E6
$current_dark: #363636

$notebook: 1240px
$tablet: 867px
$mobile: 650px

@import "quiz_mixins"

.quiz-container
    position: fixed
    width: 100%
    height:  100%
    left: 0
    top: 0
    opacity: 0
    transition: .2s ease-in-out
    transform: scale(1.2) translateY(-5%)
    overflow: hidden
    pointer-events: none
    z-index: 25

    &.show
        opacity: 1
        transform: scale(1)
        pointer-events: auto



.quiz
    position: fixed

    display: flex
    width: 100%
    height: 650px
    max-width: 1200px
    top: 50%
    left: 50%
    transform: translate(-50%, -50%)
    background: #fff
    transition: .2s ease-in-out

    font-family: 'Montserrat', sans-serif
    z-index: 11

    @include below($tablet)
        height: 100%

    &.hide
        opacity: 0
        pointer-events: none

    &__container
        display: grid
        width: 100%
        height: 100%

        &--promo
            min-height: 100px
            grid-template-columns: 58% 42%

            @include below($tablet)
                grid-template-columns: 100%

        &--question
            grid-template-columns: 80% 20%

            @include below($tablet)
                grid-template-columns: 1fr 250px

            @include below($mobile)
                grid-template-columns: 1fr
                grid-template-rows: 1fr auto

    &__overlay
        position: fixed
        width: 100%
        height: 100%
        background: #000000f5
        z-index: 10

    &__close-btn
        position: absolute

        width: 22px
        height: 22px
        right: -25px
        top: -25px
        fill: $current_dark
        color: $current_dark
        cursor: pointer

        @include below($notebook)
            right: 0px
            top: 0px

        &::before,
        &::after
            content: ""
            position: absolute
            left: 50%
            top: 50%
            transform: translate(-50%, -50%)
            width: 12px
            height: 2px
            background: $current_dark
            cursor: pointer
            z-index: 1

        &::before
            transform: translate(-50%, -50%) rotate(45deg)
        &::after
            transform: translate(-50%, -50%) rotate(-45deg)

    &__left-promo
        background: url('img/img.jpg') center/cover no-repeat

        @include below($tablet)
            border-bottom: 1px solid $current_dark

    &__left-question
        position: relative
        display: flex
        flex-direction: column
        padding: 30px
        padding-bottom: 25px
        overflow: hidden

        @include below($mobile)
            padding: 15px
            padding-bottom: 25px

    &__left-question-box
        position: absolute
        width: calc(100% - 60px)

        transition: .4s ease-in-out
        transform: translateX(5%)

        @include below($mobile)
            width: calc(100% - 30px)

        &.show
            opacity: 1
            display: block
            transform: translateX(0%)
        &.hide
            opacity: 0
            pointer-events: none
            transform: translateX(-5%)

    &__left-question-page .checkbox
        .disclaimer
            display: inline-flex

    &__left-question-progress
        position: relative
        display: flex
        justify-content: space-between
        padding-top: 25px
        margin-top: auto

        @include below($mobile)
            padding-top: 10px

        &::before
            position: absolute
            content: ''
            top: 0
            left: -30px
            width: calc(100% + 60px)
            height: 1px
            background: $current_white

        @include below($tablet)
            flex-direction: column

    &__left-question-progress-info
        position: relative
        width: 100%
        font-size: 14px

        @include below($tablet)
            order: 1

        &::after
            position: absolute
            content: ''
            bottom: 10px
            left: 0
            width: calc(100% - 50px)
            height: 5px
            background: $current_white
            border-radius: 5px

            @include below($tablet)
                width: 100%
                bottom: -20px
                height: 10px

        & .progress-bar
            position: absolute
            content: ''
            bottom: 10px
            left: 0
            width: calc(0% - 220px)
            height: 5px
            background-image: linear-gradient(90deg, $current_color_opacity, $current_color)
            box-shadow: 0 2px 9px rgba(109, 109, 109, .39), inset 0 2px 9px rgba(109, 109, 109, .39)
            border-radius: 5px
            z-index: 1
            transition: .2s ease-in-out

            @include below($tablet)
                bottom: -20px
                height: 10px

            &:after
                content: ""
                position: absolute
                top: 0
                left: 0
                bottom: 0
                right: 0
                background-image: linear-gradient( -45deg ,hsla(0,0%,100%,.18) 25%,transparent 0,transparent 50%,hsla(0,0%,100%,.18) 0,hsla(0,0%,100%,.18) 75%,transparent 0,transparent)
                z-index: 1
                background-size: 20px 20px
                -webkit-animation: move 1.5s linear infinite
                animation: move 1.5s linear infinite
                border-radius: 20px
                overflow: hidden
                animation: progress_bar 1.5s linear infinite

        .progress-title
            font-size: 12px
            text-align: left
            font-weight: 500
            line-height: 1.2
            margin-bottom: 8px
            height: 18px
            position: relative
            color: #999

        .progress-precents
            font-size: 14px
            color: $current_color
            font-weight: 700
            margin-left: 10px

    &__left-question-buttons
        display: flex
        align-items: center
        grid-gap: 0 20px
        width: 28%

        @include below($tablet)
            width: 100%
            margin-bottom: 15px

        @include below($mobile)
            margin-bottom: 10px

    &__left-question-button-next
        position: relative
        overflow: hidden
        display: flex
        justify-content: center
        align-items: center
        padding: 10px 20px

        border-radius: 40px
        font-size: 16px !important
        background-color: $current_color
        color: #fff
        border: none
        cursor: pointer

        transition: .2s ease-in-out

        &::after
            content: ""
            height: 200%
            left: -230%
            opacity: 0
            position: absolute
            top: -20%
            transform: rotate(-30deg)
            width: 200%
            background: rgba(255, 255, 255, 0.13)
            animation: shine 7s ease-in-out infinite
            background: linear-gradient(to right, rgba(255, 255, 255, 0.23) 0%,rgba(255, 255, 255, 0.13) 77%,rgba(255, 255, 255, 0.8) 92%,rgba(255, 255, 255, 0.0) 100%)

        &.disabled
            pointer-events: none
            opacity: .6
            &::after
                animation: none

        svg
            width: 20px
            height: 20px
            margin-left: 8px
            fill: #fff

    &__left-question-button-back
        display: flex
        justify-content: center
        align-items: center
        width: 32px
        height: 32px
        border-radius: 50%
        padding: 3px
        border: 1px solid $current_white
        transform: rotate(180deg)
        cursor: pointer

        &.disabled
            pointer-events: none
            svg
                fill: $current_white

        svg
            width: 23px
            height: 23px
            fill: #999999
            transition: .15s ease-in-out

    &__left-question-text
        font-size: 28px
        color: $current_dark

        @include below($mobile)
            font-size: 20px

    &__left-question-form
        display: grid
        grid-template-columns: 1fr 1fr
        grid-gap: 15px 20px
        width: 100%
        margin-top: 20px

        @include below($tablet)
            grid-template-columns: 1fr

    &__left-question-form-field
        position: relative
        padding: 1rem 1rem
        padding-left: 45px
        border: 1px solid $current_white
        border-radius: 5px
        color: $current_dark
        font-weight: 400
        cursor: pointer
        transition: .15s ease-in

        @include below($mobile)
            padding: .65rem .5rem .65rem 45px

        &:hover
            box-shadow: 1px 1px 7px $current_white

        &.checked
            border: 1px solid $current_color_opacity

        input
            display: none

        span
            position: absolute
            left: 15px
            top: 50%
            transform: translateY(-50%)
            width: 3px
            height: 3px
            padding: 4px
            border: 2px solid $current_white
            background: $current_white
            border-radius: 50%
            box-shadow: 0 0 0 2px $current_white
            transition: .1s ease-in

        input:checked + span
            border-color: #fff
            background: $current_color
            box-shadow: 0 0 0 2px $current_color

        &.checkbox
            span
                border-radius: 2px

                &::after,
                &::before
                    position: absolute
                    content: ''
                    top: 50%
                    left: 50%
                    height: 2px
                    transform: translate(-50%, -50%)

                    background: #fff
                    transition: .1s ease
                &:after
                    width: 0px
                    transform: translate(-50%, 50%) rotate(43deg)
                    left: 20%
                    top: 60%

                &:before
                    width: 0px
                    left: 63%
                    top: 57%
                    transform: translate(-50%, -50%) rotate(-50deg)

            input:checked + span
                border-color: #fff
                background: $current_color
                box-shadow: 0 0 0 2px $current_color
                border: 2px solid $current_color

            input:checked + span::before
                width: 12px

            input:checked + span::after
                transition-delay: .05s
                width: 5px



    &__right
        display: flex
        flex-direction: column
        justify-content: center
        align-items: flex-start

        height: 100%
        padding: 1rem 2rem
        margin-top: -35px

        @include below($tablet)
            max-width: 450px
            align-items: center
            margin: 150px auto 0
            justify-content: flex-start

        @include below($mobile)
            margin: 50px auto 0

    &__right-question
        padding: 1rem 1.2rem 0
        padding-bottom: 15px
        background: #F7F7F7

        @include below($mobile)
            padding: .5rem .6rem 0

    &__right-title
        position: relative
        margin-bottom: 1rem

        color: $current_dark
        font-size: 30px
        font-weight: 600
        font-style: normal
        font-stretch: normal
        line-height: 1.2
        letter-spacing: normal

        @include below($tablet)
            text-align: center

        @include below($mobile)
            font-size: 22px

        &::before
            position: absolute
            content: ''
            top: -20px
            left: 0
            width: 38px
            height: 3px

            background: $current_dark

            @include below($tablet)
                left: 50%
                transform: translateX(-50%)


    &__right-btn-start
        min-height: 55px
        padding: 10px 30px 12px
        margin-top: 1rem

        border-radius: 40px
        font-size: 18px !important
        background-color: $current_color
        color: #fff
        border: none
        cursor: pointer

        svg
            width: 20px
            height: 20px
            transform: translateY(3px)
            fill: #fff

    &__right-discount
        display: flex
        justify-content: space-between
        align-items: center
        height: 58px
        padding: 0 15px
        margin-bottom: 15px
        background: #FFDD6F
        border: 1px solid #FDCD32
        color: #555
        border-radius: 5px
        font-weight: 700
        font-size: 13px

        @include below($mobile)
            height: 33px
            margin-bottom: 3px

    &__right-discount-total
        position: relative

.quiz-form
    margin: 0 auto
    margin-top: 1.7rem

    @include below($mobile)
        margin-top: 0
        display: flex
        justify-content: center
        flex-direction: column

    &__title
        max-width: 630px
        color: $current_dark
        text-align: center
        font-size: 28px
        font-weight: 500

        @include below($mobile)
            max-width: 300px
            margin: 0px auto 10px
            font-size: 22px

    &__form
        display: grid
        grid-gap: 20px 0px
        position: relative
        padding: 29px 35px 19px
        border-radius: 3px
        box-shadow: 0 9px 40px 0 #cececee7
        border: solid 1.2px #fdfdfd
        background-color: #fdfdfd
        max-width: 500px
        width: 100%
        margin: 55px auto 0

        @include below($mobile)
            margin: 25px auto 0
            padding: 20px 20px 30px
            width: auto


    &__field
        .error-span
            display: none
            font-size: 12px
            color: #ff0000

        &.error
            .error-span
                display: block

            label
                border-color: #f00


    &__field-text
        text-transform: uppercase
        font-size: 12px


    &__label
        position: relative
        display: flex
        flex-direction: column

        margin-top: 10px
        padding: 15px 20px

        border: 1px solid #B3B3B3
        border-radius: 5px

        input
            border: none
            outline: none
            font-size: 16px
            margin-left: 35px
            color: $current_dark
        svg
            position: absolute
            left: 20px
            top: 50%
            transform: translateY(-50%)
            width: 20px
            fill: #B3B3B3
            color: #B3B3B3

    &__submit
        width: 100%
        min-height: 55px
        padding: 10px 30px 12px

        border-radius: 40px
        font-size: 18px !important
        background-color: $current_color
        color: #fff
        border: none
        cursor: pointer

        &.disabled
          background-color: $current_dark
          pointer-events: none
          &:after
            animation: none !important

        svg
            width: 20px
            height: 20px
            transform: translateY(3px)
            fill: #fff

    &__discount
        position: absolute
        display: flex
        right: 45px
        top: -10px
        background: #FAF1D6
        border: 1px solid #F7CD47
        border-radius: 5px
        font-size: 10px

    &__discount-text
        display: block
        padding: 4px 6px

    &__discount-precents
        position: relative
        display: block
        padding: 4px 15px
        padding-left: 5px
        background: #F7CD47
        font-weight: 600

        &::before
            content: ""
            position: absolute
            width: 5px
            height: 5px
            border-radius: 50%
            background-color: #fff
            border: 1px solid #c39c23
            z-index: 2
            right: 0
            top: 50%
            transform: translateY(-50%)
        &::after
            content: ""
            position: absolute
            background-color: #f7cd47
            border-radius: 5px
            width: 17px
            height: 17px
            right: -6px
            transform: rotate(45deg)
            z-index: 1
            top: 2px

    &__form-private-policy
        display: flex
        position: relative
        font-size: 12px

        a
            color: $current_color

        .label
            display: flex
            align-items: center
            justify-content: center
            margin: auto 10px auto 0

        input
            display: none

        .custom-checkbox
            position: relative
            width: 3px
            height: 3px
            padding: 4px
            margin: auto
            border: 2px solid $current_white
            background: $current_white
            box-shadow: 0 0 0 2px $current_white
            transition: .1s ease-in
            border-radius: 2px
            cursor: pointer

            &::after,
            &::before
                position: absolute
                content: ''
                top: 50%
                left: 50%
                height: 2px
                transform: translate(-50%, -50%)

                background: #fff
                transition: .1s ease
            &:after
                width: 0px
                transform: translate(-50%, 50%) rotate(43deg)
                left: 20%
                top: 60%

            &:before
                width: 0px
                left: 63%
                top: 57%
                transform: translate(-50%, -50%) rotate(-50deg)

        input:checked + .custom-checkbox
            border-color: #fff
            background: $current_color
            box-shadow: 0 0 0 2px $current_color
            border: 2px solid $current_color

        input:checked + .custom-checkbox::before
            width: 12px

        input:checked + .custom-checkbox::after
            transition-delay: .05s
            width: 5px

.success
    max-width: 300px
    margin: auto
    text-align: center

    .quiz__right-discount
        margin-top: 15px
        padding: 5px 15px !important

.disclaimer
    display: inline-flex
    align-items: center
    margin-top: 15px
    padding: 5px 10px
    background: #D8F1D5
    border: solid 1px $current_color
    color: $current_dark
    border-radius: 5px

    font-size: 10px

    svg
        width: 14px
        height: 14px
        margin-right: 5px
        fill: $current_color
        border-radius: 50%

.discount-arrow
    position: absolute
    right: -10px
    top: -12px
    animation: discount-arrow .4s ease-in-out alternate-reverse infinite

@keyframes discount-arrow
    0%
        transform: translateY(0px)
    100%
        transform: translateY(5px)

.shine
    overflow: hidden
    position: relative
    cursor: pointer

.shine:after
    content: ""
    height: 200%
    left: -230%
    opacity: 0
    position: absolute
    top: -20%
    transform: rotate(-30deg)
    width: 200%
    background: rgba(255, 255, 255, 0.23)
    animation: shine 7s ease-in-out infinite
    background: linear-gradient(to right, rgba(255, 255, 255, 0.33) 0%,rgba(255, 255, 255, 0.23) 77%,rgba(255, 255, 255, 0.13) 92%,rgba(255, 255, 255, 0.0) 100%)

.big-shine:after
    height: 100%
    background: linear-gradient(to right, rgba(255, 255, 255, 0.63) 0%,rgba(255, 255, 255, 0.53) 77%,rgba(255, 255, 255, 0.43) 92%,rgba(255, 255, 255, 0.0) 100%)
    animation: big-shine 7s ease-in-out infinite

@keyframes shine
    0%
        left: -230%
    15%
        left: -50%
        opacity: 1
        top: -50%
        transition-duration: 0.7s, 0.7s, 0.15s
        transition-property: left, top, opacity
        transition-timing-function: ease
    25%
        left: -50%
        opacity: 0
        top: -50%
        transition-duration: 0.7s, 0.7s, 0.15s
        transition-property: left, top, opacity
        transition-timing-function: ease
    100%
        left: -50%
        opacity: 0
        top: -50%
        transition-duration: 0.7s, 0.7s, 0.15s
        transition-property: left, top, opacity
        transition-timing-function: ease

@keyframes big-shine
    0%
        left: -130%
    15%
        left: 100%
        opacity: 1
        top: -50%
        transition-duration: 0.7s, 0.7s, 0.15s
        transition-property: left, top, opacity
        transition-timing-function: ease
    25%
        left: 100%
        opacity: 0
        top: -50%
        transition-duration: 0.7s, 0.7s, 0.15s
        transition-property: left, top, opacity
        transition-timing-function: ease
    100%
        left: -50%
        opacity: 0
        top: -50%
        transition-duration: 0.7s, 0.7s, 0.15s
        transition-property: left, top, opacity
        transition-timing-function: ease


@keyframes progress_bar
    0%
        background-position: 0 0
    100%
        background-position: 20px 20px